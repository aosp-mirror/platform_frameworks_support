{
  "comments": [
    {
      "key": {
        "uuid": "3919e72b_e9f1ba1e",
        "filename": "camera/camera2/src/main/java/androidx/camera/camera2/impl/CaptureSession.java",
        "patchSetId": 5
      },
      "lineNbr": 495,
      "author": {
        "id": 1481938
      },
      "writtenOn": "2019-05-16T02:54:38Z",
      "side": 1,
      "message": "looks like there is a typo here..  applyImplementationOptionT\"o\"CaptureBuilder\ncan you help fix it ?",
      "range": {
        "startLine": 495,
        "startChar": 16,
        "endLine": 495,
        "endChar": 56
      },
      "revId": "2f0250e3aa5735fb5e9d8a45a1e844a46b97b130",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a7dec0a_ed364e93",
        "filename": "camera/camera2/src/main/java/androidx/camera/camera2/impl/CaptureSession.java",
        "patchSetId": 5
      },
      "lineNbr": 495,
      "author": {
        "id": 1481635
      },
      "writtenOn": "2019-05-16T06:47:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3919e72b_e9f1ba1e",
      "range": {
        "startLine": 495,
        "startChar": 16,
        "endLine": 495,
        "endChar": 56
      },
      "revId": "2f0250e3aa5735fb5e9d8a45a1e844a46b97b130",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99752e05_a8efc59d",
        "filename": "camera/camera2/src/main/java/androidx/camera/camera2/impl/CaptureSession.java",
        "patchSetId": 5
      },
      "lineNbr": 496,
      "author": {
        "id": 1481938
      },
      "writtenOn": "2019-05-16T02:54:38Z",
      "side": 1,
      "message": "Since CameraControl is responsible for attaching shared parameter to the capture requests, why can\u0027t we simply do that for all single requests in CameraControl as well ?  This can make the paramters sharing logic inside the CameraControl only.",
      "range": {
        "startLine": 496,
        "startChar": 0,
        "endLine": 496,
        "endChar": 95
      },
      "revId": "2f0250e3aa5735fb5e9d8a45a1e844a46b97b130",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "620c5fb9_ed1045aa",
        "filename": "camera/camera2/src/main/java/androidx/camera/camera2/impl/CaptureSession.java",
        "patchSetId": 5
      },
      "lineNbr": 496,
      "author": {
        "id": 1481635
      },
      "writtenOn": "2019-05-16T06:47:39Z",
      "side": 1,
      "message": "If we need CameraControl to attach all repeating parameters to single request, it means CameraControl has to know all repeating parameters.\nFor a UseCase, there are two ways to set parameters to repeating request.\n(1) Use case\u0027s SessionConfig - by calling UseCase.attachToCamera(CameraId, SessionConfig) and UseCase.notifyActive().\n(2) CameraControl\u0027s SessionConfig - by calling CameraControl API but the parameters are decided by CameraControl.\n\nThe parameters from PreviewExtender use method (1).\nSo if we want to get all repeating parameters in CameraControl, does it mean we have to pass use cases\u0027 SessionConfig to CameraControl instead of using UseCase.attachToCamera()? If so, the use case state(online/offline, active/inactive) and session config management should also move from Camera to CameraControl? I am not sure my understanding is correct or there is another thought?",
      "parentUuid": "99752e05_a8efc59d",
      "range": {
        "startLine": 496,
        "startChar": 0,
        "endLine": 496,
        "endChar": 95
      },
      "revId": "2f0250e3aa5735fb5e9d8a45a1e844a46b97b130",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d5016eb_1659edb7",
        "filename": "camera/camera2/src/main/java/androidx/camera/camera2/impl/CaptureSession.java",
        "patchSetId": 5
      },
      "lineNbr": 496,
      "author": {
        "id": 1482448
      },
      "writtenOn": "2019-05-16T20:48:08Z",
      "side": 1,
      "message": "The repeating parameters are not necessarily shared between different use cases. They are merged in together in the CaptureSession.\n\nThis means if there was UseCase0 with parameter A and UseCase1 with parameter B. While both are active then the parameters used will be [A, B], but if UseCase0 becomes inactive then the parameters used will only be [B].\nHowever, for shared parameters UseCase0 and UseCase1 are just utilizing the CameraControl so if UseCase0 or UseCase1 goes away (without sending a command to CameraControl) then the set of parameters will remain unchanged.\n\nThe question becomes should Camera still be a UseCase.StateChangeListener or should it only be a CameraControl.ControlUpdateListener. It would certainly make the logic in Camera a lot cleaner, but I don\u0027t think it would be correct to place that logic in CameraControl since it makes it so CameraControl has too many responsibilities.",
      "parentUuid": "620c5fb9_ed1045aa",
      "range": {
        "startLine": 496,
        "startChar": 0,
        "endLine": 496,
        "endChar": 95
      },
      "revId": "2f0250e3aa5735fb5e9d8a45a1e844a46b97b130",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14af7c51_92d42e50",
        "filename": "camera/camera2/src/main/java/androidx/camera/camera2/impl/CaptureSession.java",
        "patchSetId": 5
      },
      "lineNbr": 496,
      "author": {
        "id": 1481938
      },
      "writtenOn": "2019-05-28T04:44:13Z",
      "side": 1,
      "message": "Agreed that this will make cameracontrol has too many responsibilities. \nLet\u0027s keep it simple:\nCameraControl:   Attach shared parameters to all requests  \n\nCamera:  Merge and validate repeating parameters from all active use case.   Update the merged repeating parameters to CaptureSession. \n\nCaptureSession:  Apply CaptuerConfig\u0027s own paramters(including shared parameters) and repeating parameters to Single(burst) reuqests.",
      "parentUuid": "1d5016eb_1659edb7",
      "range": {
        "startLine": 496,
        "startChar": 0,
        "endLine": 496,
        "endChar": 95
      },
      "revId": "2f0250e3aa5735fb5e9d8a45a1e844a46b97b130",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}